{"version":3,"file":"PostEditPostPage.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;AAAA;AAPA;AAEA;AACA;AAEA;AAEA;AAYA;AAaA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AARA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjEA;AAWA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAOA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/zBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvBA;AACA","sources":["webpack://web/./src/components/Post/EditPostCell/EditPostCell.js","webpack://web/./src/components/Post/PostForm/PostForm.js","webpack://web/./src/pages/Post/EditPostPage/EditPostPage.js","webpack://web/../node_modules/@redwoodjs/forms/dist/FormError.js","webpack://web/../node_modules/@redwoodjs/forms/dist/index.js","webpack://web/../node_modules/pascalcase/index.js","webpack://web/../node_modules/react-hook-form/dist/index.cjs.js"],"sourcesContent":["import { navigate, routes } from '@redwoodjs/router'\n\nimport { useMutation } from '@redwoodjs/web'\nimport { toast } from '@redwoodjs/web/toast'\n\nimport PostForm from 'src/components/Post/PostForm'\n\nexport const QUERY = gql`\n  query EditPostById($id: Int!) {\n    post: post(id: $id) {\n      id\n      title\n      body\n      createdAt\n      likeAmount\n      Image\n    }\n  }\n`\nconst UPDATE_POST_MUTATION = gql`\n  mutation UpdatePostMutation($id: Int!, $input: UpdatePostInput!) {\n    updatePost(id: $id, input: $input) {\n      id\n      title\n      body\n      createdAt\n      likeAmount\n      Image\n    }\n  }\n`\n\nexport const Loading = () => <div>Loading...</div>\n\nexport const Failure = ({ error }) => (\n  <div className=\"rw-cell-error\">{error?.message}</div>\n)\n\nexport const Success = ({ post }) => {\n  const [updatePost, { loading, error }] = useMutation(UPDATE_POST_MUTATION, {\n    onCompleted: () => {\n      toast.success('Post updated')\n      navigate(routes.posts())\n    },\n    onError: (error) => {\n      toast.error(error.message)\n    },\n  })\n\n  const onSave = (input, id) => {\n    updatePost({ variables: { id, input } })\n  }\n\n  return (\n    <div className=\"rw-segment\">\n      <header className=\"rw-segment-header\">\n        <h2 className=\"rw-heading rw-heading-secondary\">\n          Edit Post {post?.id}\n        </h2>\n      </header>\n      <div className=\"rw-segment-main\">\n        <PostForm post={post} onSave={onSave} error={error} loading={loading} />\n      </div>\n    </div>\n  )\n}\n","import {\n  Form,\n  FormError,\n  FieldError,\n  Label,\n  TextField,\n  NumberField,\n  Submit,\n  TextAreaField,\n} from '@redwoodjs/forms'\n\nconst PostForm = (props) => {\n  const onSubmit = (data) => {\n    props.onSave(data, props?.post?.id)\n  }\n\n  return (\n    <div className=\"rw-form-wrapper\">\n      <Form onSubmit={onSubmit} error={props.error}>\n        <FormError\n          error={props.error}\n          wrapperClassName=\"rw-form-error-wrapper\"\n          titleClassName=\"rw-form-error-title\"\n          listClassName=\"rw-form-error-list\"\n        />\n\n        <Label\n          name=\"title\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Title\n        </Label>\n\n        <TextField\n          name=\"title\"\n          defaultValue={props.post?.title}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n\n        <FieldError name=\"title\" className=\"rw-field-error\" />\n\n        <Label\n          name=\"body\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Body\n        </Label>\n\n        <TextAreaField\n          name=\"body\"\n          defaultValue={props.post?.body}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n\n        <FieldError name=\"body\" className=\"rw-field-error\" />\n\n        <Label\n          name=\"likeAmount\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Like amount\n        </Label>\n\n        <NumberField\n          name=\"likeAmount\"\n          defaultValue={props.post?.likeAmount}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n\n        <FieldError name=\"likeAmount\" className=\"rw-field-error\" />\n\n        <Label\n          name=\"Image\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Image\n        </Label>\n\n        <TextField\n          name=\"Image\"\n          defaultValue={props.post?.Image}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n        />\n\n        <FieldError name=\"Image\" className=\"rw-field-error\" />\n\n        <div className=\"rw-button-group\">\n          <Submit disabled={props.loading} className=\"rw-button rw-button-blue\">\n            Save\n          </Submit>\n        </div>\n      </Form>\n    </div>\n  )\n}\n\nexport default PostForm\n","import EditPostCell from 'src/components/Post/EditPostCell'\n\nconst EditPostPage = ({ id }) => {\n  return <EditPostCell id={id} />\n}\n\nexport default EditPostPage\n","\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\").default;\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/object/keys\"));\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/instance/for-each\"));\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/instance/index-of\"));\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/instance/map\"));\n/**\n * Big error message at the top of the page explaining everything that's wrong\n * with the form fields in this form\n */\nconst FormError = _ref => {\n  let {\n    error,\n    wrapperClassName,\n    wrapperStyle,\n    titleClassName,\n    titleStyle,\n    listClassName,\n    listStyle,\n    listItemClassName,\n    listItemStyle\n  } = _ref;\n  if (!error) {\n    return null;\n  }\n  let rootMessage = error.message;\n  const messages = [];\n  const hasGraphQLError = !!error.graphQLErrors?.[0];\n  const hasNetworkError = !!error.networkError && (0, _keys.default)(error.networkError).length > 0;\n  if (hasGraphQLError) {\n    var _error$graphQLErrors$;\n    rootMessage = (_error$graphQLErrors$ = error.graphQLErrors[0].message) !== null && _error$graphQLErrors$ !== void 0 ? _error$graphQLErrors$ : 'Something went wrong';\n\n    // override top-level message for ServiceValidation errorrs\n    if (error.graphQLErrors[0]?.extensions?.code === 'BAD_USER_INPUT') {\n      rootMessage = 'Errors prevented this form from being saved';\n    }\n    const properties = error.graphQLErrors[0].extensions?.['properties'];\n    const propertyMessages = properties && properties['messages'];\n    if (propertyMessages) {\n      for (const e in propertyMessages) {\n        var _context;\n        (0, _forEach.default)(_context = propertyMessages[e]).call(_context, fieldError => {\n          messages.push(fieldError);\n        });\n      }\n    }\n  } else if (hasNetworkError) {\n    var _rootMessage;\n    rootMessage = (_rootMessage = rootMessage) !== null && _rootMessage !== void 0 ? _rootMessage : 'An error has occurred';\n    if (Object.prototype.hasOwnProperty.call(error.networkError, 'bodyText')) {\n      const netErr = error.networkError;\n      messages.push(`${netErr.name}: ${netErr.bodyText}`);\n    } else if (Object.prototype.hasOwnProperty.call(error.networkError, 'result')) {\n      const netErr = error.networkError;\n      netErr.result.errors?.forEach(error => {\n        if (typeof error.message === 'string') {\n          var _context2;\n          if ((0, _indexOf.default)(_context2 = error.message).call(_context2, ';') >= 0) {\n            messages.push(error.message?.split(';')[1]);\n          } else {\n            messages.push(error.message);\n          }\n        }\n      });\n    }\n  }\n  if (!rootMessage) {\n    return null;\n  }\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: wrapperClassName,\n    style: wrapperStyle\n  }, /*#__PURE__*/_react.default.createElement(\"p\", {\n    className: titleClassName,\n    style: titleStyle\n  }, rootMessage), messages.length > 0 && /*#__PURE__*/_react.default.createElement(\"ul\", {\n    className: listClassName,\n    style: listStyle\n  }, (0, _map.default)(messages).call(messages, (message, index) => /*#__PURE__*/_react.default.createElement(\"li\", {\n    key: index,\n    className: listItemClassName,\n    style: listItemStyle\n  }, message))));\n};\nvar _default = FormError;\nexports.default = _default;","\"use strict\";\n\nvar _context;\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js/object/define-property\");\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js/instance/for-each\");\nvar _Object$keys = require(\"@babel/runtime-corejs3/core-js/object/keys\");\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs3/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\").default;\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  CheckboxField: true,\n  ButtonField: true,\n  ColorField: true,\n  DateField: true,\n  DatetimeLocalField: true,\n  EmailField: true,\n  FileField: true,\n  HiddenField: true,\n  ImageField: true,\n  MonthField: true,\n  NumberField: true,\n  PasswordField: true,\n  RadioField: true,\n  RangeField: true,\n  ResetField: true,\n  SearchField: true,\n  SubmitField: true,\n  TelField: true,\n  TextField: true,\n  TimeField: true,\n  UrlField: true,\n  WeekField: true,\n  Form: true,\n  ServerErrorsContext: true,\n  FieldError: true,\n  InputField: true,\n  Label: true,\n  TextAreaField: true,\n  SelectField: true,\n  Submit: true,\n  useErrorStyles: true,\n  useRegister: true,\n  FormError: true\n};\nexports.Form = exports.FileField = exports.FieldError = exports.EmailField = exports.DatetimeLocalField = exports.DateField = exports.ColorField = exports.CheckboxField = exports.ButtonField = void 0;\n_Object$defineProperty(exports, \"FormError\", {\n  enumerable: true,\n  get: function () {\n    return _FormError.default;\n  }\n});\nexports.useRegister = exports.useErrorStyles = exports.WeekField = exports.UrlField = exports.TimeField = exports.TextField = exports.TextAreaField = exports.TelField = exports.SubmitField = exports.Submit = exports.ServerErrorsContext = exports.SelectField = exports.SearchField = exports.ResetField = exports.RangeField = exports.RadioField = exports.PasswordField = exports.NumberField = exports.MonthField = exports.Label = exports.InputField = exports.ImageField = exports.HiddenField = void 0;\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/instance/for-each\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/extends\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _pascalcase = _interopRequireDefault(require(\"pascalcase\"));\nvar _reactHookForm = require(\"react-hook-form\");\n_forEachInstanceProperty2(_context = _Object$keys(_reactHookForm)).call(_context, function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _reactHookForm[key]) return;\n  _Object$defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _reactHookForm[key];\n    }\n  });\n});\nvar _FormError = _interopRequireDefault(require(\"./FormError\"));\n/**\n * @module @redwoodjs/forms\n *\n * Redwood's form library.\n * Mostly simple wrappers around `react-hook-form` that make it even easier to use.\n *\n * @remarks\n *\n * @redwoodjs/forms slightly extends `react-hook-form`'s `valueAs` props because it's important for us to coerce values\n * to the correct type for GraphQL.\n * The properties that are exclusive to Redwood are:\n * - `valueAsBoolean`\n * - `valueAsJSON`\n * - `emptyAs`\n *\n * @see {@link https://react-hook-form.com/}\n *\n * @remarks\n *\n * We make all of `react-hook-form`'s exports available as well.\n *\n * @privateRemarks\n *\n * The two main hooks in this library are:\n * - `useErrorStyles`\n * - `useRegister`\n *\n * `useErrorStyles` implements the error-specific styling via `useEffect`.\n *\n * `useRegister` hooks fields up to `react-hook-form` while providing some sensible defaults\n * based on the field's type.\n *\n * @privateRemarks\n *\n * We use `React.ComponentPropsWithRef` and `React.ComponentPropsWithoutRef` instead of `React.FC`\n * because the community seems to be shifting away from `React.FC`.\n *\n * @see {@link https://fettblog.eu/typescript-react-why-i-dont-use-react-fc/}\n * @see {@link https://github.com/facebook/create-react-app/pull/8177}\n * @see {@link https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/function_components/}\n *\n * @privateRemarks\n *\n * As for interfaces vs types, we're going with TypesScript's recommendation to use interfaces until types are needed.\n *\n * @see {@link https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces}\n */\n\n/**\n * We slightly extend `react-hook-form`'s `RegisterOptions` to make working with GraphQL easier.\n * `react-hook-form` provides the prop `setValueAs` for all-purpose coercion\n * (i.e. anything that isn't `valueAsDate` or `valueAsNumber`, which are standard HTML).\n *\n * @see {@link https://react-hook-form.com/api/useform/register}\n */\n\n/**\n * The main interface, just to have some sort of source of truth.\n *\n * @typeParam E - The type of element; we're only ever working with a few HTMLElements.\n *\n * `extends` constrains the generic while `=` provides a default.\n *\n * @see {@link https://www.typescriptlang.org/docs/handbook/2/generics.html#generic-constraints}\n *\n * @internal\n */\n\n/**\n * Adds styling to a field when an error is present.\n *\n * @remarks\n *\n * Mostly just a `useEffect` hook.\n *\n * `className` and `style` get swapped with `errorClassName` and `errorStyle` respectively\n * when an error's present (on the server or otherwise).\n */\nconst useErrorStyles = _ref2 => {\n  let {\n    name,\n    errorClassName,\n    errorStyle,\n    className,\n    style\n  } = _ref2;\n  const {\n    formState: {\n      errors\n    },\n    setError\n  } = (0, _reactHookForm.useFormContext)();\n  const serverError = (0, _react.useContext)(ServerErrorsContext)[name];\n  _react.default.useEffect(() => {\n    if (serverError) {\n      setError(name, {\n        type: 'server',\n        message: serverError\n      });\n    }\n  }, [serverError, name, setError]);\n  const validationError = name ? (0, _reactHookForm.get)(errors, name) : undefined;\n  if (validationError) {\n    if (errorClassName) {\n      className = errorClassName;\n    }\n    if (errorStyle) {\n      style = errorStyle;\n    }\n  }\n  return {\n    className,\n    style\n  };\n};\n\n// Used to determine if a value is empty.\nexports.useErrorStyles = useErrorStyles;\nconst isValueEmpty = val => val === '';\n\n/**\n * EmptyAsValue defines the values that can be used for the field emptyAs prop\n * It sets the value to be returned from the field if the field is empty.\n * If the valueOf prop is truly undefined (not 'undefined'), it will return\n * a default value corresponding to the type of field. (See\n * the comments above the setCoercion function for more details)\n */\n\n/*\n * One of the functions in the SET_VALUE_AS_FUNCTIONS object is\n * passed to the react-hook-forms setValueAs prop by the getSetValueAsFn\n * function which is used by the setCoercion function\n * There may be an alternate solution using closures that is less explicit, but\n * would likely be more troublesome to debug.\n */\nconst SET_VALUE_AS_FUNCTIONS = {\n  // valueAsBoolean is commented out as r-h-f does not currently support\n  // setValueAs functionality for checkboxes.  May investigate future\n  // integration\n  /*  valueAsBoolean: {\n    // r-h-f returns a boolean if a checkBox type, but also handle string case in case valueAsBoolean is used\n    base: (val: boolean | string): boolean => !!val,\n    emptyAsNull: (val: boolean | string): boolean | null => (val ? true : null),\n    emptyAsUndefined: (val: boolean | string): boolean | undefined =>\n      val ? true : undefined,\n  },*/\n  valueAsDate: {\n    emptyAsNull: val => isValueEmpty(val) ? null : new Date(val),\n    emptyAsUndefined: val => isValueEmpty(val) ? undefined : new Date(val),\n    emptyAsString: val => isValueEmpty(val) ? '' : new Date(val),\n    emptyAsZero: val => isValueEmpty(val) ? 0 : new Date(val)\n  },\n  valueAsJSON: {\n    emptyAsNull: val => {\n      if (isValueEmpty(val)) {\n        return null;\n      }\n      try {\n        return JSON.parse(val);\n      } catch (e) {\n        return NaN; // represents invalid JSON parse to JSONValidation function\n      }\n    },\n\n    emptyAsString: val => {\n      if (isValueEmpty(val)) {\n        return '';\n      }\n      try {\n        return JSON.parse(val);\n      } catch (e) {\n        return NaN; // represents invalid JSON parse to JSONValidation function\n      }\n    },\n\n    emptyAsUndefined: val => {\n      if (isValueEmpty(val)) {\n        return undefined;\n      }\n      try {\n        return JSON.parse(val);\n      } catch (e) {\n        return NaN; // represents invalid JSON parse to JSONValidation function\n      }\n    },\n\n    emptyAsZero: val => {\n      if (isValueEmpty(val)) {\n        return 0;\n      }\n      try {\n        return JSON.parse(val);\n      } catch (e) {\n        return NaN; // represents invalid JSON parse to JSONValidation function\n      }\n    }\n  },\n\n  valueAsNumber: {\n    emptyAsNull: val => isValueEmpty(val) ? null : +val,\n    emptyAsUndefined: val => isValueEmpty(val) ? undefined : +val,\n    emptyAsNaN: val => isValueEmpty(val) ? NaN : +val,\n    emptyAsString: val => isValueEmpty(val) ? '' : +val,\n    emptyAsZero: val => isValueEmpty(val) ? 0 : +val\n  },\n  valueAsString: {\n    emptyAsNull: val => isValueEmpty(val) ? null : val,\n    emptyAsUndefined: val => isValueEmpty(val) ? undefined : val,\n    emptyAsString: val => isValueEmpty(val) ? '' : val,\n    emptyAsZero: val => isValueEmpty(val) ? 0 : val\n  }\n};\n\n// Note that the emptyAs parameter takes precedence over the type, required,\n// and isId parameters\nconst getSetValueAsFn = (type, emptyAs, required, isId) => {\n  const typeObj = SET_VALUE_AS_FUNCTIONS[type];\n  if (typeObj === undefined) {\n    throw Error(`Type ${type} is unsupported.`);\n  }\n  let fn;\n  switch (emptyAs) {\n    case null:\n      fn = typeObj['emptyAsNull'];\n      break;\n    case 'undefined':\n      fn = typeObj['emptyAsUndefined'];\n      break;\n    case 0:\n      fn = typeObj['emptyAsZero'];\n      break;\n    case '':\n      fn = typeObj['emptyAsString'];\n      break;\n    case undefined:\n    default:\n      if (required || isId) {\n        fn = typeObj.emptyAsNull;\n      } else {\n        // set the default SetValueAsFn\n        switch (type) {\n          case 'valueAsNumber':\n            fn = typeObj.emptyAsNaN;\n            break;\n          case 'valueAsDate':\n          case 'valueAsJSON':\n            fn = typeObj.emptyAsNull;\n            break;\n          case 'valueAsString':\n            fn = typeObj.emptyAsString;\n            break;\n        }\n      }\n      break;\n  }\n  if (fn === undefined) {\n    console.error(`emptyAs prop of ${emptyAs} is unsupported for this type.`);\n  }\n  return fn;\n};\n\n// This function is passed into r-h-f's validate function if valueAsJSON is set\nconst JSONValidation = val => typeof val === 'number' ? !isNaN(val) : true;\n\n/**\n * ** setCoercion **\n * Handles the flow of coercion, providing a default if none is specified.\n * Also implements Redwood's extensions to `react-hook-form`'s `valueAs` props.\n *\n * To provide Redwood specific functionality, we need to override part of\n * react-hook-form`'s functionality in some cases. This is accomplished\n * through the use of the setValueAs function supported by r-h-f.\n * If a setValueAs function is provided by the user, it takes precedence over\n * the emptyAs prop.\n *\n * Redwood provides specific logic to address field empty scenarios through\n * the use of the emptyAs prop. The decision chain for behaviour on field empty\n * scenarios is as follows:\n *   1. if setValueAs is specified by the user, that will determine the behavior\n *   2  if emptyAs is specified, then the emptyAs prop will determine the\n *      field value on an empty condition.\n *   3. if { validation.required } is set, an empty field will return null; however,\n *      r-h-f's validation should engage and prevent submission of the form.\n *   4. if the field is an Id field, that is its name ends in \"Id\", then an empty\n *      field will return null.\n *   5. In the event of none of the above cases, the field value will be set as\n *      follows for empty field scenarios:\n *       DateFields => null\n *       NumberFields => NaN\n *       TextFields with valueAsNumber set => NaN\n *       SelectFields with valueAsNumber set => NaN\n *       SelectFields without valueAsNumber set => '' (empty string)\n *       TextFields with valueAsJSON set => null\n *       TextFields and comparable => '' (empty string)\n */\n\nconst setCoercion = (validation, _ref3) => {\n  let {\n    type,\n    name,\n    emptyAs\n  } = _ref3;\n  if (validation.setValueAs) {\n    // Note, this case could override other props\n    return;\n  }\n  let valueAs;\n  if (validation.valueAsBoolean || type === 'checkbox') {\n    // Note the react-hook-forms setValueAs prop does not work in react-hook-forms\n    // for checkboxes and thus Redwood does not provide emptyAs functionality\n    // for checkboxes for now.\n    return;\n  } else if (validation.valueAsJSON) {\n    validation.validate = JSONValidation;\n    delete validation.valueAsJSON;\n    valueAs = 'valueAsJSON';\n  } else if (type === 'date' || type === 'datetime-local' || validation.valueAsDate) {\n    valueAs = 'valueAsDate';\n  } else if (type === 'number' || validation.valueAsNumber) {\n    valueAs = 'valueAsNumber';\n  } else {\n    valueAs = 'valueAsString';\n  }\n  validation.setValueAs = getSetValueAsFn(valueAs,\n  // type\n  emptyAs,\n  // emptyAs\n  validation.required !== undefined && validation.required !== false,\n  // required\n  /Id$/.test(name || '') // isId\n  );\n};\n\n/**\n * useRegister\n *\n * Register the field into `react-hook-form` with defaults.\n *\n * @remarks\n *\n * A field's `validation` prop is `react-hook-form`'s `RegisterOptions`\n * (with Redwood's extended `valueAs` props).\n *\n * @see {@link https://react-hook-form.com/api/useform/register}\n */\nconst useRegister = (props, ref, emptyAs) => {\n  const {\n    register\n  } = (0, _reactHookForm.useFormContext)();\n  const validation = props.validation || {\n    required: false\n  };\n  setCoercion(validation, {\n    type: props.type,\n    name: props.name,\n    emptyAs\n  });\n  const {\n    ref: _ref,\n    onBlur: handleBlur,\n    onChange: handleChange,\n    ...rest\n  } = register(props.name, validation);\n  const onBlur = event => {\n    handleBlur(event);\n    props.onBlur?.(event);\n  };\n  const onChange = event => {\n    handleChange(event);\n    props.onChange?.(event);\n  };\n  return {\n    ...rest,\n    ref: element => {\n      _ref(element);\n      if (typeof ref === 'function') {\n        ref(element);\n      } else if (ref) {\n        ref.current = element;\n      }\n    },\n    onBlur,\n    onChange\n  };\n};\n\n/**\n * Context for keeping track of errors from the server.\n */\nexports.useRegister = useRegister;\nconst ServerErrorsContext = /*#__PURE__*/_react.default.createContext({});\nexports.ServerErrorsContext = ServerErrorsContext;\n/**\n * Renders a `<form>` with the required context.\n */\nfunction FormInner(_ref4, ref) {\n  let {\n    config,\n    error: errorProps,\n    formMethods: propFormMethods,\n    onSubmit,\n    children,\n    ...rest\n  } = _ref4;\n  const hookFormMethods = (0, _reactHookForm.useForm)(config);\n  const formMethods = propFormMethods || hookFormMethods;\n  return /*#__PURE__*/_react.default.createElement(\"form\", (0, _extends2.default)({\n    ref: ref\n  }, rest, {\n    onSubmit: formMethods.handleSubmit((data, event) => onSubmit?.(data, event))\n  }), /*#__PURE__*/_react.default.createElement(ServerErrorsContext.Provider, {\n    value: errorProps?.graphQLErrors?.[0]?.extensions?.properties?.messages || {}\n  }, /*#__PURE__*/_react.default.createElement(_reactHookForm.FormProvider, formMethods, children)));\n}\n\n// Sorry about the `as` type assertion (type cast) here. Normally I'd redeclare\n// forwardRef to only return a plain function, allowing us to use TypeScript's\n// Higher-order Function Type Inference. But that gives us problems with the\n// ForwardRefExoticComponent type we use for our InputComponents. So instead\n// of changing that type (because it's correct) I use a type assertion here.\n// forwardRef is notoriously difficult to use with UI component libs.\n// Chakra-UI also says:\n// > To be honest, the forwardRef type is quite complex [...] I'd recommend\n// > that you cast the type\n// https://github.com/chakra-ui/chakra-ui/issues/4528#issuecomment-902566185\nconst Form = /*#__PURE__*/(0, _react.forwardRef)(FormInner);\nexports.Form = Form;\n/**\n * Renders a `<label>` that can be styled differently if errors are present on the related fields.\n */\nconst Label = _ref5 => {\n  let {\n    name,\n    children,\n    // for useErrorStyles\n    errorClassName,\n    errorStyle,\n    className,\n    style,\n    ...rest\n  } = _ref5;\n  const styles = useErrorStyles({\n    name,\n    errorClassName,\n    errorStyle,\n    className,\n    style\n  });\n  return /*#__PURE__*/_react.default.createElement(\"label\", (0, _extends2.default)({\n    htmlFor: name\n  }, rest, styles), children || name);\n};\nexports.Label = Label;\nconst DEFAULT_MESSAGES = {\n  required: 'is required',\n  pattern: 'is not formatted correctly',\n  minLength: 'is too short',\n  maxLength: 'is too long',\n  min: 'is too low',\n  max: 'is too high',\n  validate: 'is not valid'\n};\n\n/**\n * Renders a `<span>` with an error message if there's a validation error on the corresponding field.\n * If no error message is provided, a default one is used based on the type of validation that caused the error.\n *\n * @example Displaying a validation error message with `<FieldError>`\n *\n * `<FieldError>` doesn't render (i.e. returns `null`) when there's no error on `<TextField>`.\n *\n * ```jsx\n * <Label name=\"name\" errorClassName=\"error\">\n *   Name\n * </Label>\n * <TextField\n *   name=\"name\"\n *   validation={{ required: true }}\n *   errorClassName=\"error\"\n * />\n * <FieldError name=\"name\" className=\"error\" />\n * ```\n *\n * @see {@link https://redwoodjs.com/docs/tutorial/chapter3/forms#fielderror}\n *\n * @privateRemarks\n *\n * This is basically a helper for a common pattern you see in `react-hook-form`:\n *\n * ```jsx\n * <form onSubmit={handleSubmit(onSubmit)}>\n *   <input {...register(\"firstName\", { required: true })} />\n *   {errors.firstName?.type === 'required' && \"First name is required\"}\n * ```\n *\n * @see {@link https://react-hook-form.com/get-started#Handleerrors}\n */\nconst FieldError = _ref6 => {\n  let {\n    name,\n    ...rest\n  } = _ref6;\n  const {\n    formState: {\n      errors\n    }\n  } = (0, _reactHookForm.useFormContext)();\n  const validationError = (0, _reactHookForm.get)(errors, name);\n  const errorMessage = validationError && (validationError.message || `${name} ${DEFAULT_MESSAGES[validationError.type]}`);\n  return validationError ? /*#__PURE__*/_react.default.createElement(\"span\", rest, errorMessage) : null;\n};\nexports.FieldError = FieldError;\n/**\n * Renders a `<textarea>` field.\n */\nconst TextAreaField = /*#__PURE__*/(0, _react.forwardRef)((_ref7, ref) => {\n  let {\n    name,\n    id,\n    emptyAs,\n    // for useErrorStyles\n    errorClassName,\n    errorStyle,\n    className,\n    style,\n    // for useRegister\n    validation,\n    onBlur,\n    onChange,\n    ...rest\n  } = _ref7;\n  const styles = useErrorStyles({\n    name,\n    errorClassName,\n    errorStyle,\n    className,\n    style\n  });\n  const useRegisterReturn = useRegister({\n    name,\n    validation,\n    onBlur,\n    onChange\n  }, ref, emptyAs);\n  return /*#__PURE__*/_react.default.createElement(\"textarea\", (0, _extends2.default)({\n    id: id || name\n  }, rest, styles, useRegisterReturn));\n});\nexports.TextAreaField = TextAreaField;\n/**\n * Renders a `<select>` field.\n */\nconst SelectField = /*#__PURE__*/(0, _react.forwardRef)((_ref8, ref) => {\n  let {\n    name,\n    id,\n    emptyAs,\n    // for useErrorStyles\n    errorClassName,\n    errorStyle,\n    className,\n    style,\n    // for useRegister\n    validation,\n    onBlur,\n    onChange,\n    ...rest\n  } = _ref8;\n  const styles = useErrorStyles({\n    name,\n    errorClassName,\n    errorStyle,\n    className,\n    style\n  });\n  const useRegisterReturn = useRegister({\n    name,\n    validation,\n    onBlur,\n    onChange\n  }, ref, emptyAs);\n  return /*#__PURE__*/_react.default.createElement(\"select\", (0, _extends2.default)({\n    id: id || name\n  }, rest, styles, useRegisterReturn));\n});\nexports.SelectField = SelectField;\n/**\n * Renders an `<input type=\"checkbox\">` field.\n */\nconst CheckboxField = /*#__PURE__*/(0, _react.forwardRef)((_ref9, ref) => {\n  let {\n    name,\n    id,\n    // for useErrorStyles\n    errorClassName,\n    errorStyle,\n    className,\n    style,\n    // for useRegister\n    validation,\n    onBlur,\n    onChange,\n    ...rest\n  } = _ref9;\n  const styles = useErrorStyles({\n    name,\n    errorClassName,\n    errorStyle,\n    className,\n    style\n  });\n  const type = 'checkbox';\n  const useRegisterReturn = useRegister({\n    name,\n    validation,\n    onBlur,\n    onChange,\n    type\n  }, ref);\n  return /*#__PURE__*/_react.default.createElement(\"input\", (0, _extends2.default)({\n    id: id || name\n  }, rest, {\n    /** This order ensures type=\"checkbox\" */\n    type: type\n  }, styles, useRegisterReturn));\n});\n\n/**\n * Renders a `<button type=\"submit\">` field.\n *\n * @example\n * ```jsx{3}\n * <Form onSubmit={onSubmit}>\n *   // ...\n *   <Submit>Save</Submit>\n * </Form>\n * ```\n */\nexports.CheckboxField = CheckboxField;\nconst Submit = /*#__PURE__*/(0, _react.forwardRef)((props, ref) => /*#__PURE__*/_react.default.createElement(\"button\", (0, _extends2.default)({\n  ref: ref,\n  type: \"submit\"\n}, props)));\n\n/**\n * All the types we'll be generating named `<InputFields>` for (which is basically all of them).\n * Note that `'checkbox'` isn't here because we handle it separately above.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#input_types}\n */\nexports.Submit = Submit;\nconst INPUT_TYPES = ['button', 'color', 'date', 'datetime-local', 'email', 'file', 'hidden', 'image', 'month', 'number', 'password', 'radio', 'range', 'reset', 'search', 'submit', 'tel', 'text', 'time', 'url', 'week'];\n/**\n * Renders an `<input>` field.\n *\n * @see {@link https://redwoodjs.com/docs/form#inputfields}\n */\nconst InputField = /*#__PURE__*/(0, _react.forwardRef)((_ref10, ref) => {\n  let {\n    name,\n    id,\n    emptyAs,\n    // for useErrorStyles\n    errorClassName,\n    errorStyle,\n    className,\n    style,\n    // for useRegister\n    validation,\n    onBlur,\n    onChange,\n    type,\n    ...rest\n  } = _ref10;\n  const styles = useErrorStyles({\n    name,\n    errorClassName,\n    errorStyle,\n    className,\n    style\n  });\n  const useRegisterReturn = useRegister({\n    name,\n    validation,\n    onBlur,\n    onChange,\n    type\n  }, ref, emptyAs);\n  return /*#__PURE__*/_react.default.createElement(\"input\", (0, _extends2.default)({\n    id: id || name\n  }, rest, {\n    type: type\n  }, styles, useRegisterReturn));\n});\n\n/**\n * `React.ForwardRefExoticComponent` is `forwardRef`'s return type.\n * You can hover over `<InputField>` above to see the type inference at work.\n */\nexports.InputField = InputField;\nconst InputComponents = {};\n\n/**\n * Create a component for each type in `INPUT_TYPES`.\n *\n * Rather than writing out each and every component definition,\n * we use a bit of JS metaprogramming to create them all with the appropriate name.\n *\n * We end up with `InputComponents.TextField`, `InputComponents.TimeField`, etc.\n * Export those and we're good to go!\n */\n(0, _forEach.default)(INPUT_TYPES).call(INPUT_TYPES, type => {\n  InputComponents[`${(0, _pascalcase.default)(type)}Field`] = /*#__PURE__*/(0, _react.forwardRef)((props, ref) => /*#__PURE__*/_react.default.createElement(InputField, (0, _extends2.default)({\n    ref: ref,\n    type: type\n  }, props)));\n});\nconst {\n  ButtonField,\n  ColorField,\n  DateField,\n  DatetimeLocalField,\n  EmailField,\n  FileField,\n  HiddenField,\n  ImageField,\n  MonthField,\n  NumberField,\n  PasswordField,\n  RadioField,\n  RangeField,\n  ResetField,\n  SearchField,\n  SubmitField,\n  TelField,\n  TextField,\n  TimeField,\n  UrlField,\n  WeekField\n} = InputComponents;\nexports.WeekField = WeekField;\nexports.UrlField = UrlField;\nexports.TimeField = TimeField;\nexports.TextField = TextField;\nexports.TelField = TelField;\nexports.SubmitField = SubmitField;\nexports.SearchField = SearchField;\nexports.ResetField = ResetField;\nexports.RangeField = RangeField;\nexports.RadioField = RadioField;\nexports.PasswordField = PasswordField;\nexports.NumberField = NumberField;\nexports.MonthField = MonthField;\nexports.ImageField = ImageField;\nexports.HiddenField = HiddenField;\nexports.FileField = FileField;\nexports.EmailField = EmailField;\nexports.DatetimeLocalField = DatetimeLocalField;\nexports.DateField = DateField;\nexports.ColorField = ColorField;\nexports.ButtonField = ButtonField;","/*!\n * pascalcase <https://github.com/jonschlinkert/pascalcase>\n *\n * Copyright (c) 2015-present, Jon (\"Schlink\") Schlinkert.\n * Licensed under the MIT License.\n */\n\nconst titlecase = input => input[0].toLocaleUpperCase() + input.slice(1);\n\nmodule.exports = value => {\n  if (value === null || value === void 0) return '';\n  if (typeof value.toString !== 'function') return '';\n\n  let input = value.toString().trim();\n  if (input === '') return '';\n  if (input.length === 1) return input.toLocaleUpperCase();\n\n  let match = input.match(/[a-zA-Z0-9]+/g);\n  if (match) {\n    return match.map(m => titlecase(m)).join('');\n  }\n\n  return input;\n};\n","\"use strict\";function e(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var t=e(require(\"react\")),r=e=>\"checkbox\"===e.type,s=e=>e instanceof Date,a=e=>null==e;const n=e=>\"object\"==typeof e;var i=e=>!a(e)&&!Array.isArray(e)&&n(e)&&!s(e),u=e=>i(e)&&e.target?r(e.target)?e.target.checked:e.target.value:e,o=(e,t)=>e.has((e=>e.substring(0,e.search(/\\.\\d+(\\.|$)/))||e)(t)),l=e=>{const t=e.constructor&&e.constructor.prototype;return i(t)&&t.hasOwnProperty(\"isPrototypeOf\")},c=\"undefined\"!=typeof window&&void 0!==window.HTMLElement&&\"undefined\"!=typeof document;function d(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(c&&(e instanceof Blob||e instanceof FileList)||!r&&!i(e))return e;if(t=r?[]:{},Array.isArray(e)||l(e))for(const r in e)t[r]=d(e[r]);else t=e}return t}var f=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>void 0===e,y=(e,t,r)=>{if(!t||!i(e))return r;const s=f(t.split(/[,[\\].]+?/)).reduce(((e,t)=>a(e)?e:e[t]),e);return m(s)||s===e?m(e[t])?r:e[t]:s};const p={BLUR:\"blur\",FOCUS_OUT:\"focusout\",CHANGE:\"change\"},g={onBlur:\"onBlur\",onChange:\"onChange\",onSubmit:\"onSubmit\",onTouched:\"onTouched\",all:\"all\"},_=\"max\",h=\"min\",v=\"maxLength\",b=\"minLength\",x=\"pattern\",A=\"required\",V=\"validate\",F=t.default.createContext(null),S=()=>t.default.useContext(F);var w=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const a=n;return t._proxyFormState[a]!==g.all&&(t._proxyFormState[a]=!s||g.all),r&&(r[a]=!0),e[a]}});return a},k=e=>i(e)&&!Object.keys(e).length,D=(e,t,r,s)=>{r(e);const{name:a,...n}=e;return k(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find((e=>t[e]===(!s||g.all)))},C=e=>Array.isArray(e)?e:[e],O=(e,t,r)=>r&&t?e===t:!e||!t||e===t||C(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function j(e){const r=t.default.useRef(e);r.current=e,t.default.useEffect((()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}}),[e.disabled])}function E(e){const r=S(),{control:s=r.control,disabled:a,name:n,exact:i}=e||{},[u,o]=t.default.useState(s._formState),l=t.default.useRef(!0),c=t.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=t.default.useRef(n);return d.current=n,j({disabled:a,next:e=>l.current&&O(d.current,e.name,i)&&D(e,c.current,s._updateFormState)&&o({...s._formState,...e}),subject:s._subjects.state}),t.default.useEffect((()=>(l.current=!0,c.current.isValid&&s._updateValid(!0),()=>{l.current=!1})),[s]),w(u,s,c.current,!1)}var U=e=>\"string\"==typeof e,B=(e,t,r,s,a)=>U(e)?(s&&t.watch.add(e),y(r,e,a)):Array.isArray(e)?e.map((e=>(s&&t.watch.add(e),y(r,e)))):(s&&(t.watchAll=!0),r);function T(e){const r=S(),{control:s=r.control,name:a,defaultValue:n,disabled:i,exact:u}=e||{},o=t.default.useRef(a);o.current=a,j({disabled:i,subject:s._subjects.values,next:e=>{O(o.current,e.name,u)&&c(d(B(o.current,s._names,e.values||s._formValues,!1,n)))}});const[l,c]=t.default.useState(s._getWatch(a,n));return t.default.useEffect((()=>s._removeUnmounted())),l}var L=e=>/^\\w*$/.test(e),N=e=>f(e.replace(/[\"|']|\\]/g,\"\").split(/\\.|\\[/));function M(e,t,r){let s=-1;const a=L(t)?[t]:N(t),n=a.length,u=n-1;for(;++s<n;){const t=a[s];let n=r;if(s!==u){const r=e[t];n=i(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}e[t]=n,e=e[t]}return e}function R(e){const r=S(),{name:s,control:a=r.control,shouldUnregister:n}=e,i=o(a._names.array,s),l=T({control:a,name:s,defaultValue:y(a._formValues,s,y(a._defaultValues,s,e.defaultValue)),exact:!0}),c=E({control:a,name:s}),f=t.default.useRef(a.register(s,{...e.rules,value:l}));return t.default.useEffect((()=>{const e=a._options.shouldUnregister||n,t=(e,t)=>{const r=y(a._fields,e);r&&(r._f.mount=t)};if(t(s,!0),e){const e=d(y(a._options.defaultValues,s));M(a._defaultValues,s,e),m(y(a._formValues,s))&&M(a._formValues,s,e)}return()=>{(i?e&&!a._state.action:e)?a.unregister(s):t(s,!1)}}),[s,a,i,n]),{field:{name:s,value:l,onChange:t.default.useCallback((e=>f.current.onChange({target:{value:u(e),name:s},type:p.CHANGE})),[s]),onBlur:t.default.useCallback((()=>f.current.onBlur({target:{value:y(a._formValues,s),name:s},type:p.BLUR})),[s,a]),ref:e=>{const t=y(a._fields,s);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!y(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!y(c.touchedFields,s)},error:{enumerable:!0,get:()=>y(c.errors,s)}})}}var q=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{};const P=(e,t,r)=>{for(const s of r||Object.keys(e)){const r=y(e,s);if(r){const{_f:e,...s}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else i(s)&&P(s,t)}}};var W=()=>{const e=\"undefined\"==typeof performance?Date.now():1e3*performance.now();return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return(\"x\"==t?r:3&r|8).toString(16)}))},$=(e,t,r={})=>r.shouldFocus||m(r.shouldFocus)?r.focusName||`${e}.${m(r.focusIndex)?t:r.focusIndex}.`:\"\",H=e=>({isOnSubmit:!e||e===g.onSubmit,isOnBlur:e===g.onBlur,isOnChange:e===g.onChange,isOnAll:e===g.all,isOnTouch:e===g.onTouched}),I=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\\.\\w+/.test(e.slice(t.length))))),G=(e,t,r)=>{const s=f(y(e,r));return M(s,\"root\",t[r]),M(e,r,s),e},z=e=>\"boolean\"==typeof e,J=e=>\"file\"===e.type,K=e=>\"function\"==typeof e,Q=e=>{if(!c)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},X=e=>U(e),Y=e=>\"radio\"===e.type,Z=e=>e instanceof RegExp;const ee={value:!1,isValid:!1},te={value:!0,isValid:!0};var re=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||\"\"===e[0].value?te:{value:e[0].value,isValid:!0}:te:ee}return ee};const se={isValid:!1,value:null};var ae=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),se):se;function ne(e,t,r=\"validate\"){if(X(e)||Array.isArray(e)&&e.every(X)||z(e)&&!e)return{type:r,message:X(e)?e:\"\",ref:t}}var ie=e=>i(e)&&!Z(e)?e:{value:e,message:\"\"},ue=async(e,t,s,n,u)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:p,max:g,pattern:F,validate:S,name:w,valueAsNumber:D,mount:C,disabled:O}=e._f,j=y(t,w);if(!C||O)return{};const E=l?l[0]:o,B=e=>{n&&E.reportValidity&&(E.setCustomValidity(z(e)?\"\":e||\"\"),E.reportValidity())},T={},L=Y(o),N=r(o),M=L||N,R=(D||J(o))&&m(o.value)&&m(j)||Q(o)&&\"\"===o.value||\"\"===j||Array.isArray(j)&&!j.length,P=q.bind(null,w,s,T),W=(e,t,r,s=v,a=b)=>{const n=e?t:r;T[w]={type:e?s:a,message:n,ref:o,...P(e?s:a,n)}};if(u?!Array.isArray(j)||!j.length:c&&(!M&&(R||a(j))||z(j)&&!j||N&&!re(l).isValid||L&&!ae(l).isValid)){const{value:e,message:t}=X(c)?{value:!!c,message:c}:ie(c);if(e&&(T[w]={type:A,message:t,ref:E,...P(A,t)},!s))return B(t),T}if(!(R||a(p)&&a(g))){let e,t;const r=ie(g),n=ie(p);if(a(j)||isNaN(j)){const s=o.valueAsDate||new Date(j),a=e=>new Date((new Date).toDateString()+\" \"+e),i=\"time\"==o.type,u=\"week\"==o.type;U(r.value)&&j&&(e=i?a(j)>a(r.value):u?j>r.value:s>new Date(r.value)),U(n.value)&&j&&(t=i?a(j)<a(n.value):u?j<n.value:s<new Date(n.value))}else{const s=o.valueAsNumber||(j?+j:j);a(r.value)||(e=s>r.value),a(n.value)||(t=s<n.value)}if((e||t)&&(W(!!e,r.message,n.message,_,h),!s))return B(T[w].message),T}if((d||f)&&!R&&(U(j)||u&&Array.isArray(j))){const e=ie(d),t=ie(f),r=!a(e.value)&&j.length>+e.value,n=!a(t.value)&&j.length<+t.value;if((r||n)&&(W(r,e.message,t.message),!s))return B(T[w].message),T}if(F&&!R&&U(j)){const{value:e,message:t}=ie(F);if(Z(e)&&!j.match(e)&&(T[w]={type:x,message:t,ref:o,...P(x,t)},!s))return B(t),T}if(S)if(K(S)){const e=ne(await S(j,t),E);if(e&&(T[w]={...e,...P(V,e.message)},!s))return B(e.message),T}else if(i(S)){let e={};for(const r in S){if(!k(e)&&!s)break;const a=ne(await S[r](j,t),E,r);a&&(e={...a,...P(r,a.message)},B(a.message),s&&(T[w]=e))}if(!k(e)&&(T[w]={ref:E,...e},!s))return T}return B(!0),T};function oe(e,t){return[...e,...C(t)]}var le=e=>Array.isArray(e)?e.map((()=>{})):void 0;function ce(e,t,r){return[...e.slice(0,t),...C(r),...e.slice(t)]}var de=(e,t,r)=>Array.isArray(e)?(m(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function fe(e,t){return[...C(t),...C(e)]}var me=(e,t)=>m(t)?[]:function(e,t){let r=0;const s=[...e];for(const e of t)s.splice(e-r,1),r++;return f(s).length?s:[]}(e,C(t).sort(((e,t)=>e-t))),ye=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]};function pe(e,t){const r=Array.isArray(t)?t:L(t)?[t]:N(t),s=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=m(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,n=r[a];return s&&delete s[n],0!==a&&(i(s)&&k(s)||Array.isArray(s)&&function(e){for(const t in e)if(!m(e[t]))return!1;return!0}(s))&&pe(e,r.slice(0,-1)),e}var ge=(e,t,r)=>(e[t]=r,e);function _e(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var he=e=>a(e)||!n(e);function ve(e,t){if(he(e)||he(t))return e===t;if(s(e)&&s(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const n of r){const r=e[n];if(!a.includes(n))return!1;if(\"ref\"!==n){const e=t[n];if(s(r)&&s(e)||i(r)&&i(e)||Array.isArray(r)&&Array.isArray(e)?!ve(r,e):r!==e)return!1}}return!0}var be=e=>\"select-multiple\"===e.type,xe=e=>Y(e)||r(e),Ae=e=>Q(e)&&e.isConnected,Ve=e=>{for(const t in e)if(K(e[t]))return!0;return!1};function Fe(e,t={}){const r=Array.isArray(e);if(i(e)||r)for(const r in e)Array.isArray(e[r])||i(e[r])&&!Ve(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Fe(e[r],t[r])):a(e[r])||(t[r]=!0);return t}function Se(e,t,r){const s=Array.isArray(e);if(i(e)||s)for(const s in e)Array.isArray(e[s])||i(e[s])&&!Ve(e[s])?m(t)||he(r[s])?r[s]=Array.isArray(e[s])?Fe(e[s],[]):{...Fe(e[s])}:Se(e[s],a(t)?{}:t[s],r[s]):r[s]=!ve(e[s],t[s]);return r}var we=(e,t)=>Se(e,t,Fe(t)),ke=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>m(e)?e:t?\"\"===e?NaN:e?+e:e:r&&U(e)?new Date(e):s?s(e):e;function De(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return J(t)?t.files:Y(t)?ae(e.refs).value:be(t)?[...t.selectedOptions].map((({value:e})=>e)):r(t)?re(e.refs).value:ke(m(t.value)?e.ref.value:t.value,e)}var Ce=(e,t,r,s)=>{const a={};for(const r of e){const e=y(t,r);e&&M(a,r,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Oe=e=>m(e)?e:Z(e)?e.source:i(e)?Z(e.value)?e.value.source:e.value:e,je=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ee(e,t,r){const s=y(e,r);if(s||L(r))return{error:s,name:r};const a=r.split(\".\");for(;a.length;){const s=a.join(\".\"),n=y(t,s),i=y(e,s);if(n&&!Array.isArray(n)&&r!==s)return{name:r};if(i&&i.type)return{name:s,error:i};a.pop()}return{name:r}}var Ue=(e,t,r,s,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:!(r?s.isOnChange:a.isOnChange)||e),Be=(e,t)=>!f(y(e,t)).length&&pe(e,t);const Te={mode:g.onSubmit,reValidateMode:g.onChange,shouldFocusError:!0};function Le(e={},t){let n,l={...Te,...e},_={submitCount:0,isDirty:!1,isLoading:K(l.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},h={},v=(i(l.defaultValues)||i(l.values))&&d(l.defaultValues||l.values)||{},b=l.shouldUnregister?{}:d(v),x={action:!1,mount:!1,watch:!1},A={mount:new Set,unMount:new Set,array:new Set,watch:new Set},V=0;const F={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},S={values:_e(),array:_e(),state:_e()},w=e.resetOptions&&e.resetOptions.keepDirtyValues,D=H(l.mode),O=H(l.reValidateMode),j=l.criteriaMode===g.all,E=async e=>{if(F.isValid||e){const e=l.resolver?k((await q()).errors):await W(h,!0);e!==_.isValid&&S.state.next({isValid:e})}},T=e=>F.isValidating&&S.state.next({isValidating:e}),L=(e,t,r,s)=>{const a=y(h,e);if(a){const n=y(b,e,m(r)?y(v,e):r);m(n)||s&&s.defaultChecked||t?M(b,e,t?n:De(a._f)):Y(e,n),x.mount&&E()}},N=(e,t,r,s,a)=>{let n=!1,i=!1;const u={name:e};if(!r||s){F.isDirty&&(i=_.isDirty,_.isDirty=u.isDirty=$(),n=i!==u.isDirty);const r=ve(y(v,e),t);i=y(_.dirtyFields,e),r?pe(_.dirtyFields,e):M(_.dirtyFields,e,!0),u.dirtyFields=_.dirtyFields,n=n||F.dirtyFields&&i!==!r}if(r){const t=y(_.touchedFields,e);t||(M(_.touchedFields,e,r),u.touchedFields=_.touchedFields,n=n||F.touchedFields&&t!==r)}return n&&a&&S.state.next(u),n?u:{}},R=(t,r,s,a)=>{const i=y(_.errors,t),u=F.isValid&&z(r)&&_.isValid!==r;var o;if(e.delayError&&s?(o=()=>((e,t)=>{M(_.errors,e,t),S.state.next({errors:_.errors})})(t,s),n=e=>{clearTimeout(V),V=setTimeout(o,e)},n(e.delayError)):(clearTimeout(V),n=null,s?M(_.errors,t,s):pe(_.errors,t)),(s?!ve(i,s):i)||!k(a)||u){const e={...a,...u&&z(r)?{isValid:r}:{},errors:_.errors,name:t};_={..._,...e},S.state.next(e)}T(!1)},q=async e=>l.resolver(b,l.context,Ce(e||A.mount,h,l.criteriaMode,l.shouldUseNativeValidation)),W=async(e,t,r={valid:!0})=>{for(const s in e){const a=e[s];if(a){const{_f:e,...s}=a;if(e){const s=A.array.has(e.name),n=await ue(a,b,j,l.shouldUseNativeValidation&&!t,s);if(n[e.name]&&(r.valid=!1,t))break;!t&&(y(n,e.name)?s?G(_.errors,n,e.name):M(_.errors,e.name,n[e.name]):pe(_.errors,e.name))}s&&await W(s,t,r)}}return r.valid},$=(e,t)=>(e&&t&&M(b,e,t),!ve(se(),v)),X=(e,t,r)=>B(e,A,{...x.mount?b:m(t)?v:U(e)?{[e]:t}:t},r,t),Y=(e,t,s={})=>{const n=y(h,e);let i=t;if(n){const s=n._f;s&&(!s.disabled&&M(b,e,ke(t,s)),i=Q(s.ref)&&a(t)?\"\":t,be(s.ref)?[...s.ref.options].forEach((e=>e.selected=i.includes(e.value))):s.refs?r(s.ref)?s.refs.length>1?s.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):s.refs[0]&&(s.refs[0].checked=!!i):s.refs.forEach((e=>e.checked=e.value===i)):J(s.ref)?s.ref.value=\"\":(s.ref.value=i,s.ref.type||S.values.next({name:e,values:{...b}})))}(s.shouldDirty||s.shouldTouch)&&N(e,i,s.shouldTouch,s.shouldDirty,!0),s.shouldValidate&&re(e)},Z=(e,t,r)=>{for(const a in t){const n=t[a],i=`${e}.${a}`,u=y(h,i);!A.array.has(e)&&he(n)&&(!u||u._f)||s(n)?Y(i,n,r):Z(i,n,r)}},ee=(e,r,s={})=>{const n=y(h,e),i=A.array.has(e),u=d(r);M(b,e,u),i?(S.array.next({name:e,values:{...b}}),(F.isDirty||F.dirtyFields)&&s.shouldDirty&&S.state.next({name:e,dirtyFields:we(v,b),isDirty:$(e,u)})):!n||n._f||a(u)?Y(e,u,s):Z(e,u,s),I(e,A)&&S.state.next({..._}),S.values.next({name:e,values:{...b}}),!x.mount&&t()},te=async e=>{const t=e.target;let r=t.name,s=!0;const a=y(h,r);if(a){let i,o;const c=t.type?De(a._f):u(e),d=e.type===p.BLUR||e.type===p.FOCUS_OUT,f=!je(a._f)&&!l.resolver&&!y(_.errors,r)&&!a._f.deps||Ue(d,y(_.touchedFields,r),_.isSubmitted,O,D),m=I(r,A,d);M(b,r,c),d?(a._f.onBlur&&a._f.onBlur(e),n&&n(0)):a._f.onChange&&a._f.onChange(e);const g=N(r,c,d,!1),v=!k(g)||m;if(!d&&S.values.next({name:r,type:e.type,values:{...b}}),f)return F.isValid&&E(),v&&S.state.next({name:r,...m?{}:g});if(!d&&m&&S.state.next({..._}),T(!0),l.resolver){const{errors:e}=await q([r]),t=Ee(_.errors,h,r),s=Ee(e,h,t.name||r);i=s.error,r=s.name,o=k(e)}else i=(await ue(a,b,j,l.shouldUseNativeValidation))[r],s=isNaN(c)||c===y(b,r,c),s&&(i?o=!1:F.isValid&&(o=await W(h,!0)));s&&(a._f.deps&&re(a._f.deps),R(r,o,i,g))}},re=async(e,t={})=>{let r,s;const a=C(e);if(T(!0),l.resolver){const t=await(async e=>{const{errors:t}=await q();if(e)for(const r of e){const e=y(t,r);e?M(_.errors,r,e):pe(_.errors,r)}else _.errors=t;return t})(m(e)?e:a);r=k(t),s=e?!a.some((e=>y(t,e))):r}else e?(s=(await Promise.all(a.map((async e=>{const t=y(h,e);return await W(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||_.isValid)&&E()):s=r=await W(h);return S.state.next({...!U(e)||F.isValid&&r!==_.isValid?{}:{name:e},...l.resolver||!e?{isValid:r}:{},errors:_.errors,isValidating:!1}),t.shouldFocus&&!s&&P(h,(e=>e&&y(_.errors,e)),e?a:A.mount),s},se=e=>{const t={...v,...x.mount?b:{}};return m(e)?t:U(e)?y(t,e):e.map((e=>y(t,e)))},ae=(e,t)=>({invalid:!!y((t||_).errors,e),isDirty:!!y((t||_).dirtyFields,e),isTouched:!!y((t||_).touchedFields,e),error:y((t||_).errors,e)}),ne=(e,t={})=>{for(const r of e?C(e):A.mount)A.mount.delete(r),A.array.delete(r),t.keepValue||(pe(h,r),pe(b,r)),!t.keepError&&pe(_.errors,r),!t.keepDirty&&pe(_.dirtyFields,r),!t.keepTouched&&pe(_.touchedFields,r),!l.shouldUnregister&&!t.keepDefaultValue&&pe(v,r);S.values.next({values:{...b}}),S.state.next({..._,...t.keepDirty?{isDirty:$()}:{}}),!t.keepIsValid&&E()},ie=(e,t={})=>{let r=y(h,e);const s=z(t.disabled);return M(h,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),A.mount.add(e),r?s&&M(b,e,t.disabled?void 0:y(b,e,De(r._f))):L(e,!0,t.value),{...s?{disabled:t.disabled}:{},...l.shouldUseNativeValidation?{required:!!t.required,min:Oe(t.min),max:Oe(t.max),minLength:Oe(t.minLength),maxLength:Oe(t.maxLength),pattern:Oe(t.pattern)}:{},name:e,onChange:te,onBlur:te,ref:s=>{if(s){ie(e,t),r=y(h,e);const a=m(s.value)&&s.querySelectorAll&&s.querySelectorAll(\"input,select,textarea\")[0]||s,n=xe(a),i=r._f.refs||[];if(n?i.find((e=>e===a)):a===r._f.ref)return;M(h,e,{_f:{...r._f,...n?{refs:[...i.filter(Ae),a,...Array.isArray(y(v,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),L(e,!1,void 0,a)}else r=y(h,e,{}),r._f&&(r._f.mount=!1),(l.shouldUnregister||t.shouldUnregister)&&(!o(A.array,e)||!x.action)&&A.unMount.add(e)}}},oe=()=>l.shouldFocusError&&P(h,(e=>e&&y(_.errors,e)),A.mount),le=(r,s={})=>{const a=r||v,n=d(a),i=r&&!k(r)?n:v;if(s.keepDefaultValues||(v=a),!s.keepValues){if(s.keepDirtyValues||w)for(const e of A.mount)y(_.dirtyFields,e)?M(i,e,y(b,e)):ee(e,y(i,e));else{if(c&&m(r))for(const e of A.mount){const t=y(h,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Q(e)){const t=e.closest(\"form\");if(t){t.reset();break}}}}h={}}b=e.shouldUnregister?s.keepDefaultValues?d(v):{}:n,S.array.next({values:{...i}}),S.values.next({values:{...i}})}A={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:\"\"},!x.mount&&t(),x.mount=!F.isValid||!!s.keepIsValid,x.watch=!!e.shouldUnregister,S.state.next({submitCount:s.keepSubmitCount?_.submitCount:0,isDirty:s.keepDirty?_.isDirty:!(!s.keepDefaultValues||ve(r,v)),isSubmitted:!!s.keepIsSubmitted&&_.isSubmitted,dirtyFields:s.keepDirtyValues?_.dirtyFields:s.keepDefaultValues&&r?we(v,r):{},touchedFields:s.keepTouched?_.touchedFields:{},errors:s.keepErrors?_.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ce=(e,t)=>le(K(e)?e(b):e,t);return{control:{register:ie,unregister:ne,getFieldState:ae,_executeSchema:q,_getWatch:X,_getDirty:$,_updateValid:E,_removeUnmounted:()=>{for(const e of A.unMount){const t=y(h,e);t&&(t._f.refs?t._f.refs.every((e=>!Ae(e))):!Ae(t._f.ref))&&ne(e)}A.unMount=new Set},_updateFieldArray:(e,t=[],r,s,a=!0,n=!0)=>{if(s&&r){if(x.action=!0,n&&Array.isArray(y(h,e))){const t=r(y(h,e),s.argA,s.argB);a&&M(h,e,t)}if(n&&Array.isArray(y(_.errors,e))){const t=r(y(_.errors,e),s.argA,s.argB);a&&M(_.errors,e,t),Be(_.errors,e)}if(F.touchedFields&&n&&Array.isArray(y(_.touchedFields,e))){const t=r(y(_.touchedFields,e),s.argA,s.argB);a&&M(_.touchedFields,e,t)}F.dirtyFields&&(_.dirtyFields=we(v,b)),S.state.next({name:e,isDirty:$(e,t),dirtyFields:_.dirtyFields,errors:_.errors,isValid:_.isValid})}else M(b,e,t)},_getFieldArray:t=>f(y(x.mount?b:v,t,e.shouldUnregister?y(v,t,[]):[])),_reset:le,_resetDefaultValues:()=>K(l.defaultValues)&&l.defaultValues().then((e=>{ce(e,l.resetOptions),S.state.next({isLoading:!1})})),_updateFormState:e=>{_={..._,...e}},_subjects:S,_proxyFormState:F,get _fields(){return h},get _formValues(){return b},get _state(){return x},set _state(e){x=e},get _defaultValues(){return v},get _names(){return A},set _names(e){A=e},get _formState(){return _},set _formState(e){_=e},get _options(){return l},set _options(e){l={...l,...e}}},trigger:re,register:ie,handleSubmit:(e,t)=>async r=>{r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let s=d(b);if(S.state.next({isSubmitting:!0}),l.resolver){const{errors:e,values:t}=await q();_.errors=e,s=t}else await W(h);pe(_.errors,\"root\"),k(_.errors)?(S.state.next({errors:{}}),await e(s,r)):(t&&await t({..._.errors},r),oe(),setTimeout(oe)),S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:k(_.errors),submitCount:_.submitCount+1,errors:_.errors})},watch:(e,t)=>K(e)?S.values.subscribe({next:r=>e(X(void 0,t),r)}):X(e,t,!0),setValue:ee,getValues:se,reset:ce,resetField:(e,t={})=>{y(h,e)&&(m(t.defaultValue)?ee(e,y(v,e)):(ee(e,t.defaultValue),M(v,e,t.defaultValue)),t.keepTouched||pe(_.touchedFields,e),t.keepDirty||(pe(_.dirtyFields,e),_.isDirty=t.defaultValue?$(e,y(v,e)):$()),t.keepError||(pe(_.errors,e),F.isValid&&E()),S.state.next({..._}))},clearErrors:e=>{e&&C(e).forEach((e=>pe(_.errors,e))),S.state.next({errors:e?_.errors:{}})},unregister:ne,setError:(e,t,r)=>{const s=(y(h,e,{_f:{}})._f||{}).ref;M(_.errors,e,{...t,ref:s}),S.state.next({name:e,errors:_.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},setFocus:(e,t={})=>{const r=y(h,e),s=r&&r._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:ae}}exports.Controller=e=>e.render(R(e)),exports.FormProvider=e=>{const{children:r,...s}=e;return t.default.createElement(F.Provider,{value:s},r)},exports.appendErrors=q,exports.get=y,exports.set=M,exports.useController=R,exports.useFieldArray=function(e){const r=S(),{control:s=r.control,name:a,keyName:n=\"id\",shouldUnregister:i}=e,[u,o]=t.default.useState(s._getFieldArray(a)),l=t.default.useRef(s._getFieldArray(a).map(W)),c=t.default.useRef(u),f=t.default.useRef(a),m=t.default.useRef(!1);f.current=a,c.current=u,s._names.array.add(a),e.rules&&s.register(a,e.rules),j({next:({values:e,name:t})=>{if(t===f.current||!t){const t=y(e,f.current);Array.isArray(t)&&(o(t),l.current=t.map(W))}},subject:s._subjects.array});const p=t.default.useCallback((e=>{m.current=!0,s._updateFieldArray(a,e)}),[s,a]);return t.default.useEffect((()=>{if(s._state.action=!1,I(a,s._names)&&s._subjects.state.next({...s._formState}),m.current&&(!H(s._options.mode).isOnSubmit||s._formState.isSubmitted))if(s._options.resolver)s._executeSchema([a]).then((e=>{const t=y(e.errors,a),r=y(s._formState.errors,a);(r?!t&&r.type:t&&t.type)&&(t?M(s._formState.errors,a,t):pe(s._formState.errors,a),s._subjects.state.next({errors:s._formState.errors}))}));else{const e=y(s._fields,a);e&&e._f&&ue(e,s._formValues,s._options.criteriaMode===g.all,s._options.shouldUseNativeValidation,!0).then((e=>!k(e)&&s._subjects.state.next({errors:G(s._formState.errors,e,a)})))}s._subjects.values.next({name:a,values:{...s._formValues}}),s._names.focus&&P(s._fields,(e=>!!e&&e.startsWith(s._names.focus||\"\"))),s._names.focus=\"\",s._updateValid()}),[u,a,s]),t.default.useEffect((()=>(!y(s._formValues,a)&&s._updateFieldArray(a),()=>{(s._options.shouldUnregister||i)&&s.unregister(a)})),[a,s,n,i]),{swap:t.default.useCallback(((e,t)=>{const r=s._getFieldArray(a);ye(r,e,t),ye(l.current,e,t),p(r),o(r),s._updateFieldArray(a,r,ye,{argA:e,argB:t},!1)}),[p,a,s]),move:t.default.useCallback(((e,t)=>{const r=s._getFieldArray(a);de(r,e,t),de(l.current,e,t),p(r),o(r),s._updateFieldArray(a,r,de,{argA:e,argB:t},!1)}),[p,a,s]),prepend:t.default.useCallback(((e,t)=>{const r=C(d(e)),n=fe(s._getFieldArray(a),r);s._names.focus=$(a,0,t),l.current=fe(l.current,r.map(W)),p(n),o(n),s._updateFieldArray(a,n,fe,{argA:le(e)})}),[p,a,s]),append:t.default.useCallback(((e,t)=>{const r=C(d(e)),n=oe(s._getFieldArray(a),r);s._names.focus=$(a,n.length-1,t),l.current=oe(l.current,r.map(W)),p(n),o(n),s._updateFieldArray(a,n,oe,{argA:le(e)})}),[p,a,s]),remove:t.default.useCallback((e=>{const t=me(s._getFieldArray(a),e);l.current=me(l.current,e),p(t),o(t),s._updateFieldArray(a,t,me,{argA:e})}),[p,a,s]),insert:t.default.useCallback(((e,t,r)=>{const n=C(d(t)),i=ce(s._getFieldArray(a),e,n);s._names.focus=$(a,e,r),l.current=ce(l.current,e,n.map(W)),p(i),o(i),s._updateFieldArray(a,i,ce,{argA:e,argB:le(t)})}),[p,a,s]),update:t.default.useCallback(((e,t)=>{const r=d(t),n=ge(s._getFieldArray(a),e,r);l.current=[...n].map(((t,r)=>t&&r!==e?l.current[r]:W())),p(n),o([...n]),s._updateFieldArray(a,n,ge,{argA:e,argB:r},!0,!1)}),[p,a,s]),replace:t.default.useCallback((e=>{const t=C(d(e));l.current=t.map(W),p([...t]),o([...t]),s._updateFieldArray(a,[...t],(e=>e),{},!0,!1)}),[p,a,s]),fields:t.default.useMemo((()=>u.map(((e,t)=>({...e,[n]:l.current[t]||W()})))),[u,n])}},exports.useForm=function(e={}){const r=t.default.useRef(),[s,a]=t.default.useState({isDirty:!1,isValidating:!1,isLoading:K(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:K(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Le(e,(()=>a((e=>({...e}))))),formState:s});const n=r.current.control;return n._options=e,j({subject:n._subjects.state,next:e=>{D(e,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),t.default.useEffect((()=>{e.values&&!ve(e.values,n._defaultValues)?n._reset(e.values,n._options.resetOptions):n._resetDefaultValues()}),[e.values,n]),t.default.useEffect((()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()})),r.current.formState=w(s,n),r.current},exports.useFormContext=S,exports.useFormState=E,exports.useWatch=T;\n//# sourceMappingURL=index.cjs.js.map\n"],"names":[],"sourceRoot":""}