{"version":3,"file":"PostPostPage.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;AAAA;AANA;AACA;AACA;AAEA;AAEA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AARA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AA6BA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFA;AAAA;AAFA;AAEA;AAaA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAEA","sources":["webpack://web/./src/components/Post/Post/Post.js","webpack://web/./src/components/Post/PostCell/PostCell.js","webpack://web/./src/pages/Post/PostPage/PostPage.js"],"sourcesContent":["import { Link, routes, navigate } from '@redwoodjs/router'\nimport { useMutation } from '@redwoodjs/web'\nimport { toast } from '@redwoodjs/web/toast'\n\nimport { timeTag } from 'src/lib/formatters'\n\nconst DELETE_POST_MUTATION = gql`\n  mutation DeletePostMutation($id: Int!) {\n    deletePost(id: $id) {\n      id\n    }\n  }\n`\n\nconst Post = ({ post }) => {\n  const [deletePost] = useMutation(DELETE_POST_MUTATION, {\n    onCompleted: () => {\n      toast.success('Post deleted')\n      navigate(routes.posts())\n    },\n    onError: (error) => {\n      toast.error(error.message)\n    },\n  })\n\n  const onDeleteClick = (id) => {\n    if (confirm('Are you sure you want to delete post ' + id + '?')) {\n      deletePost({ variables: { id } })\n    }\n  }\n\n  return (\n    <>\n      <div className=\"rw-segment\">\n        <header className=\"rw-segment-header\">\n          <h2 className=\"rw-heading rw-heading-secondary\">\n            Post {post.id} Detail\n          </h2>\n        </header>\n        <table className=\"rw-table\">\n          <tbody>\n            <tr>\n              <th>Id</th>\n              <td>{post.id}</td>\n            </tr>\n            <tr>\n              <th>Title</th>\n              <td>{post.title}</td>\n            </tr>\n            <tr>\n              <th>Body</th>\n              <td>{post.body}</td>\n            </tr>\n            <tr>\n              <th>Created at</th>\n              <td>{timeTag(post.createdAt)}</td>\n            </tr>\n            <tr>\n              <th>Like amount</th>\n              <td>{post.likeAmount}</td>\n            </tr>\n            <tr>\n              <th>Image</th>\n              <td>{post.Image}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <nav className=\"rw-button-group\">\n        <Link\n          to={routes.editPost({ id: post.id })}\n          className=\"rw-button rw-button-blue\"\n        >\n          Edit\n        </Link>\n        <button\n          type=\"button\"\n          className=\"rw-button rw-button-red\"\n          onClick={() => onDeleteClick(post.id)}\n        >\n          Delete\n        </button>\n      </nav>\n    </>\n  )\n}\n\nexport default Post\n","import Post from 'src/components/Post/Post'\n\nexport const QUERY = gql`\n  query FindPostById($id: Int!) {\n    post: post(id: $id) {\n      id\n      title\n      body\n      createdAt\n      likeAmount\n      Image\n    }\n  }\n`\n\nexport const Loading = () => <div>Loading...</div>\n\nexport const Empty = () => <div>Post not found</div>\n\nexport const Failure = ({ error }) => (\n  <div className=\"rw-cell-error\">{error?.message}</div>\n)\n\nexport const Success = ({ post }) => {\n  return <Post post={post} />\n}\n","import PostCell from 'src/components/Post/PostCell'\n\nconst PostPage = ({ id }) => {\n  return <PostCell id={id} />\n}\n\nexport default PostPage\n"],"names":[],"sourceRoot":""}